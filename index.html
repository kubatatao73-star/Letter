<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Animated Letter Centered</title>

    <style>
      :root {
        --bg1: #fdf2f8;
        --bg2: #e0f2fe;
        --paper: #ffffff;
        --ink: #be185d;
      }

      * {
        box-sizing: border-box;
      }

      html,
      body {
        height: 100%;
        margin: 0;
      }

      body {
        font-family: "Georgia", serif;
        display: flex;
        justify-content: center;
        align-items: center;
        background: linear-gradient(135deg, var(--bg1), var(--bg2));
        overflow: hidden;
      }

      .stage {
        position: relative;
        width: 100%;
        height: 100%;
        display: grid;
        place-items: center;
        perspective: 1000px;
      }

      /* Envelope */
      .envelope {
        position: relative;
        width: 320px;
        height: 220px;
        background: linear-gradient(#f472b6, #db2779);
        border-radius: 14px;
        cursor: pointer;
        transform-style: preserve-3d;
        transition: transform 0.6s ease;
        z-index: 2;
      }

      .envelope::before {
        content: "";
        position: absolute;
        top: -28px;
        left: 0;
        width: 100%;
        height: 74px;
        background: linear-gradient(#f472b6, #be185d);
        border-bottom-left-radius: 14px;
        border-bottom-right-radius: 14px;
        transform-origin: top;
        transform: rotateX(0deg);
        transition: transform 0.9s ease;
        z-index: 3;
        pointer-events: none;
      }

      .envelope.open::before {
        transform: rotateX(-180deg);
      }

      .envelope-shadow {
        position: absolute;
        left: 50%;
        bottom: -16px;
        width: 260px;
        height: 40px;
        transform: translateX(-50%);
        background: radial-gradient(
          circle at center,
          rgba(0, 0, 0, 0.25),
          transparent 60%
        );
        filter: blur(2px);
        border-radius: 50%;
        pointer-events: none;
        opacity: 0.6;
      }

      /* Letter */
      .letter {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%) scale(0.7);
        width: 90%;
        max-width: 650px;
        max-height: 80vh; /* Enables scroll area */
        overflow-y: auto; /* Vertical scroll */
        background: var(--paper);
        padding: 40px;
        border-radius: 14px;
        box-shadow: 0 20px 50px rgba(0, 0, 0, 0.25);
        opacity: 0;
        z-index: 1;
        transition:
          transform 0.8s cubic-bezier(0.22, 0.61, 0.36, 1),
          opacity 0.8s ease;
      }

      .letter.show {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
      }

      /* Scrollbar styling */
      .letter::-webkit-scrollbar {
        width: 8px;
      }

      .letter::-webkit-scrollbar-thumb {
        background: #db2779;
        border-radius: 10px;
      }

      h1 {
        text-align: center;
        color: var(--ink);
        margin: 0 0 10px;
      }

      p {
        line-height: 1.8;
        margin: 0 0 14px;
        color: #333;
      }

      .signature {
        margin-top: 12px;
        text-align: right;
        font-style: italic;
      }
    </style>
  </head>

  <body>
    <div class="stage">
      <!-- Envelope -->
      <div
        class="envelope"
        id="env"
        onclick="openLetter()"
        tabindex="0"
        onkeydown="handleKey(event)"
      >
        <div class="envelope-shadow"></div>
      </div>

      <!-- Letter -->
      <div class="letter" id="letter">
        <h1>A Letter for Bro</h1>
        <p><strong>Hi Syra,</strong></p>
        <p>
          I just wanted to say thank you for all the time weâ€™ve spent together.
          The dates weâ€™ve been to were really fun, and honestly, I learned a lot
          from them.
        </p>
        <p>
          Sometimes I know I donâ€™t really know how to lead because I donâ€™t have
          much experience. But thank you for being patient with me and for
          making things comfortable and easy.
        </p>
        <p>
          Also, about the chocolate I gave you â€” itâ€™s not super expensive, not
          super cheap either ðŸ˜… but I really hope you liked it.
        </p>
        <p>
          And chill lang ha ðŸ˜† dili ko ma-attach nimo kay naka-build na kog
          walls. Before, kada naa koy ma-close na girlfriend, ma-attach gyud ko.
          But now, Iâ€™ve learned my lesson HAHAHA so safe na ta.
        </p>
        <p>
          But seriously, I appreciate you. Thank you for the laughs, the
          memories, and the time.
        </p>

        <!-- Extra content to demonstrate scroll -->
        <p>
          I also hope that whatever path you choose, you keep smiling and
          chasing what makes you happy. Lifeâ€™s too short to overthink every
          little thing.
        </p>
        <p>
          Just wanted you to know that I value our moments â€” even the simple
          ones. Those are sometimes the best.
        </p>

        <div class="signature">â€” Lian</div>
      </div>
    </div>

    <script>
      function handleKey(e) {
        if (e.key === "Enter" || e.key === " ") {
          e.preventDefault();
          openLetter();
        }
      }

      function openLetter() {
        const env = document.getElementById("env");
        const letter = document.getElementById("letter");

        if (env.classList.contains("open")) return;

        env.classList.add("open");

        setTimeout(() => letter.classList.add("show"), 300);

        setTimeout(() => {
          env.style.transition = "opacity 0.5s ease, transform 0.5s ease";
          env.style.opacity = 0;
          env.style.transform = "scale(0.9)";
        }, 300);

        setTimeout(() => (env.style.display = "none"), 900);
      }
    </script>
  </body>
</html>

